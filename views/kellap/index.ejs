<% include ../partials/header %>  
<div class="container">
<header class="jumbotron">
   <div class="container">
       <h1> Transporto valdymo modulis! </h1>
       <p> Keliones lapai </p>
       <div>
          <a class="btn btn-primary btn-large" href="/kellap/newkr">Naujas kr keliones lapas</a>
          <a class="btn btn-primary btn-large" href="/kellap/newmech">Naujas mech keliones lapas</a>
          <a class="btn btn-primary btn-large" href="/kellap/newlen">Naujas len keliones lapas</a>
          <hr>
          <a class="btn btn-primary btn-large" href="/kellap/krkellap">Krovininiu transporto pr keliones lapai</a>
          <a class="btn btn-primary btn-large" href="/kellap/mechkellap">mechanizmu keliones lapai</a>
          <a class="btn btn-primary btn-large" href="/kellap/lenkellap">lengvuju auto keliones lapai</a>
          <a class="btn btn-primary btn-large" href="/kellap/mmkellap">mazoji tech, savaieigestr pr. keliones lapai</a>
          <a class="btn btn-primary btn-large" href="/kellap/nuomkellap">nuomotu auto keliones lapai</a>
       </div>
   </div>

</header>
<hr>
<form class="form-inline">
  <div class="form-group">
 <label>FILTRUOTI PAGAL: </label>
  <input class="form-control" type="text" id="myInput1" onkeyup="myFunction1()" placeholder="Data" title="Įrašykite datą">
  <input class="form-control"  type="text" id="myInput2" onkeyup="myFunction2()" placeholder="Valst Nr." title="Įrašykite Valst Nr">
  <input class="form-control"  type="text" id="myInput6" onkeyup="myFunction6()" placeholder="Invent. Nr." title="Įrašykite Invent. Nr.">
  <input class="form-control" type="text" id="myInput3" onkeyup="myFunction3()" placeholder="Bazė" title="Įrašykite bazę">
  <input class="form-control" type="text" id="myInput4" onkeyup="myFunction4()" placeholder="Tr rūšį" title="Įrašykite Tr rušį">
  <input class="form-control" type="text" id="myInput5" onkeyup="myFunction5()" placeholder="Sukūrė" title="Įrašykite autorių">
  </div>
</form>

<table id="myTable" class="table table-striped">
  <tr class="header">
    <th style="text-align: center;">1</th>
    <th style="text-align: center;">2</th>
    <th style="text-align: center;">3</th>
    <th style="text-align: center;">4</th>
    <th style="text-align: center;">5</th>
    <th style="text-align: center;">6</th>
    <th style="text-align: center;">7</th>
    <th style="text-align: center;">8</th>
    <th style="text-align: center;">9</th>
    <th style="text-align: center;">10</th>
    <th style="text-align: center;">11</th>
  </tr>
    <% console.log(allkellap) %>
    <% allkellap.forEach(function(kellap){ %>
      <tr>
        <td style="text-align: center;"><strong><%=kellap.data%></strong></td>
        <td style="text-align: center;"><strong><%=kellap.marke%></strong></td>
        <td style="text-align: center;"><strong><%=kellap.modelis%></strong></td>
        <td style="text-align: center;"><strong><%=kellap.valstnr%></strong></td>
        <td style="text-align: center;"><strong><%=kellap.inventnr%></strong></td>
        <td style="text-align: center;"><strong><%=kellap.ipagvair%></strong></td>
        <td style="text-align: center;"><strong><%=kellap.baze%></strong></td>
        <td style="text-align: center;"><strong><%=kellap.itrrus%></strong></td>
        <td style="text-align: center;">
            <% if(currentUser && kellap.author.id.equals(currentUser._id)){ %>
              <a class="btn btn-xs btn-warning" href="/kellap/<%= kellap._id %>/edit">Pildyti keliones lapa</a>
              <% }%>
        </td>
        <td style="text-align: center;">
            <% if(currentUser && kellap.author.id.equals(currentUser._id)){ %>
              <form id="delete-form" action="/kellap/<%= kellap._id %>?_method=DELETE" method="POST">
              <button class="btn btn-xs btn-danger">Istrinti</button>
              </form>
              <% }%>
        </td style="text-align: center;">
        <td style="text-align: center;"><a href="/kellap/<%= kellap._id %>" class="btn btn-xs btn-primary">Detali informacija</a></td>
        <% }); %>
      </tr>
  </tr>
</table>

<script>
function myFunction1() {
  var input, filter, table, tr, td, i;
  input = document.getElementById("myInput1");
  filter = input.value.toUpperCase();
  table = document.getElementById("myTable");
  tr = table.getElementsByTagName("tr");
  for (i = 0; i < tr.length; i++) {
    td = tr[i].getElementsByTagName("td")[0];
    if (td) {
      if (td.innerHTML.toUpperCase().indexOf(filter) > -1) {
        tr[i].style.display = "";
      } else {
        tr[i].style.display = "none";
      }
    }       
  }
}
</script>
<script>
function myFunction2() {
  var input, filter, table, tr, td, i;
  input = document.getElementById("myInput2");
  filter = input.value.toUpperCase();
  table = document.getElementById("myTable");
  tr = table.getElementsByTagName("tr");
  for (i = 0; i < tr.length; i++) {
    td = tr[i].getElementsByTagName("td")[3];
    if (td) {
      if (td.innerHTML.toUpperCase().indexOf(filter) > -1) {
        tr[i].style.display = "";
      } else {
        tr[i].style.display = "none";
      }
    }       
  }
}
</script>
<script>
function myFunction3() {
  var input, filter, table, tr, td, i;
  input = document.getElementById("myInput3");
  filter = input.value.toUpperCase();
  table = document.getElementById("myTable");
  tr = table.getElementsByTagName("tr");
  for (i = 0; i < tr.length; i++) {
    td = tr[i].getElementsByTagName("td")[6];
    if (td) {
      if (td.innerHTML.toUpperCase().indexOf(filter) > -1) {
        tr[i].style.display = "";
      } else {
        tr[i].style.display = "none";
      }
    }       
  }
}
</script>
<script>
function myFunction4() {
  var input, filter, table, tr, td, i;
  input = document.getElementById("myInput4");
  filter = input.value.toUpperCase();
  table = document.getElementById("myTable");
  tr = table.getElementsByTagName("tr");
  for (i = 0; i < tr.length; i++) {
    td = tr[i].getElementsByTagName("td")[7];
    if (td) {
      if (td.innerHTML.toUpperCase().indexOf(filter) > -1) {
        tr[i].style.display = "";
      } else {
        tr[i].style.display = "none";
      }
    }       
  }
}
</script>
<script>
function myFunction5() {
  var input, filter, table, tr, td, i;
  input = document.getElementById("myInput5");
  filter = input.value.toUpperCase();
  table = document.getElementById("myTable");
  tr = table.getElementsByTagName("tr");
  for (i = 0; i < tr.length; i++) {
    td = tr[i].getElementsByTagName("td")[5];
    if (td) {
      if (td.innerHTML.toUpperCase().indexOf(filter) > -1) {
        tr[i].style.display = "";
      } else {
        tr[i].style.display = "none";
      }
    }       
  }
}
</script>
<script>
function myFunction6() {
  var input, filter, table, tr, td, i;
  input = document.getElementById("myInput6");
  filter = input.value.toUpperCase();
  table = document.getElementById("myTable");
  tr = table.getElementsByTagName("tr");
  for (i = 0; i < tr.length; i++) {
    td = tr[i].getElementsByTagName("td")[4];
    if (td) {
      if (td.innerHTML.toUpperCase().indexOf(filter) > -1) {
        tr[i].style.display = "";
      } else {
        tr[i].style.display = "none";
      }
    }       
  }
}
</script>

<% include ../partials/footer %>